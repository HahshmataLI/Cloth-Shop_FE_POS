<div class="max-w-5xl mx-auto bg-white shadow-lg rounded-2xl p-8">
  <!-- Title -->
  <h2 class="text-3xl font-bold text-blue-600 mb-8 text-center">Add Product</h2>

  <!-- Form Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Name -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Product Name</label>
      <input
        pInputText
        [(ngModel)]="product.name"
        placeholder="Enter product name"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- SKU -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">SKU</label>
      <input
        pInputText
        [(ngModel)]="product.sku"
        placeholder="Leave blank to auto-generate"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Category -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Category</label>
      <p-select
        [options]="categories"
        optionLabel="name"
        optionValue="_id"
        [(ngModel)]="product.category"
        placeholder="Select Category"
        (onChange)="onCategoryChange($event.value)"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      ></p-select>
    </div>

    <!-- SubCategory -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Sub Category</label>
      <p-select
        [options]="subCategories"
        optionLabel="name"
        optionValue="_id"
        [(ngModel)]="product.subcategory"
        placeholder="Select SubCategory"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      ></p-select>
    </div>

    <!-- Brand -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Brand</label>
      <input
        pInputText
        [(ngModel)]="product.brand"
        placeholder="Brand"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Size -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Size</label>
      <input
        pInputText
        [(ngModel)]="product.size"
        placeholder="Size"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Color -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Color</label>
      <input
        pInputText
        [(ngModel)]="product.color"
        placeholder="Color"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Material -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Material</label>
      <input
        pInputText
        [(ngModel)]="product.material"
        placeholder="Material"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Season -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Season</label>
      <input
        pInputText
        [(ngModel)]="product.season"
        placeholder="Season"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Design Code -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Design Code</label>
      <input
        pInputText
        [(ngModel)]="product.designCode"
        placeholder="Design Code"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Purchase Price -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Purchase Price</label>
      <input
        type="number"
        pInputText
        [(ngModel)]="product.purchasePrice"
        placeholder="Purchase Price"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Sale Price -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Sale Price</label>
      <input
        type="number"
        pInputText
        [(ngModel)]="product.salePrice"
        placeholder="Sale Price"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Discount -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Discount (%)</label>
      <input
        type="number"
        pInputText
        [(ngModel)]="product.discount"
        placeholder="Discount"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>

    <!-- Stock -->
    <div>
      <label class="block text-gray-700 mb-2 font-semibold">Stock Quantity</label>
      <input
        type="number"
        pInputText
        [(ngModel)]="product.stockQuantity"
        placeholder="Stock Quantity"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      />
    </div>
  </div>

  <!-- File Upload -->
  <div class="mt-6">
    <label class="block text-gray-700 mb-2 font-semibold">Upload Images</label>
    <input
      type="file"
      multiple
      (change)="onFileSelect($event)"
      class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
    />
  </div>

  <!-- Description -->
  <div class="mt-6">
    <label class="block text-gray-700 mb-2 font-semibold">Description</label>
    <textarea
      pInputTextarea
      [(ngModel)]="product.description"
      placeholder="Enter description"
      class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
      rows="4"
    ></textarea>
  </div>

  <!-- Save Button -->
  <div class="mt-8 text-center">
    <button
      pButton
      label="Save Product"
      class="px-8 py-3 rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all shadow-md"
      (click)="saveProduct()"
    >
      Save Product
    </button>
  </div>

  <!-- Barcode -->
  <div *ngIf="savedProduct" class="mt-10 text-center border-t pt-6">
    <h3 class="text-xl font-semibold text-gray-800 mb-4">Generated Barcode</h3>
    <img [src]="savedProduct.barcodeImage" alt="Barcode" class="mx-auto mb-4 max-h-32" />
    <p class="text-gray-600 text-sm">SKU: {{ savedProduct.sku }}</p>
    <button
      pButton
      label="Print Barcode"
      class="mt-4 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-md transition-all"
      (click)="printBarcode()"
    >
      Print Barcode
    </button>
  </div>
</div>
